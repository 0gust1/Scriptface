<!DOCTYPE html>
<html>
<head>
    <title>clibuttons</title>
    <link rel="stylesheet" href="../bower_components/colors/css/colors.css">
    <script src="../bower_components/jquery/dist/jquery.min.js"></script>
        <style>
            body{}
            button{border-radius:50%;width:5em;height:5em;}
        </style>
    </head>
<body class="bg-aqua">
	<h1>clibuttons</h1>
	<p>A little gui over cli</p>
    <section>
        <ul>
            <li>
                <h2>Task 1</h2>
                <button type="button" class="bg-olive" id="button1">
                    Launch
                </button>
                <textarea name="" id="txt1" cols="30" rows="10"></textarea>
            </li>
            <li>
                <h2 clss="bg-navy">Task 2</h2>
                <button type="button" class="bg-silver">
                    Launch
                </button>
            </li>
        </ul>
    </section>

    <script>
        //var fs = require('fs');

        var spawn = require('child_process').spawn;


        jQuery("#button1").on("click",function(){
            var txtArea = jQuery("#txt1");
            //var ls    = spawn('ls', ['-lsa', '.']);
            var ls = spawn('grunt', ['check', '--no-color']);

            ls.stdout.on('data', function (data) {
              txtArea.append(data+"<br>");
              console.log('stdout: ' + data);
            });

            ls.stderr.on('data', function (data) {
              txtArea.append("Error : ");
              console.log('stderr: ' + data);
            });

            ls.on('close', function (code) {
              txtArea.append("Process has exited, with code : " + code +"<br>");
              console.log('child process exited with code ' + code);
            });
        });

    </script>

</body>
</html>
